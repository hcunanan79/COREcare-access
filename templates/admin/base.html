{% extends "admin/base.html" %}
{% load static %}

{% block extrastyle %}
{{ block.super }}
<!-- Google Font: Nunito -->
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">

<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

<!-- Your custom styles -->
<link rel="stylesheet" href="{% static 'admin/css/custom.css' %}">

<style>
.admin-icon {
  margin-right: 8px;
  font-size: 1.1em;
  vertical-align: middle;
  opacity: 0.85;
}
</style>
{% endblock %}

{% block footer %}
{{ block.super }}
<script>
(function() {
  console.log('Admin icons script running...');

  const iconMap = {
    'care team': 'bi-people-fill',
    'groups': 'bi-people',
    'users': 'bi-person',
    'clients': 'bi-person-badge',
    'employee credentials': 'bi-file-earmark-text',
    'shifts': 'bi-calendar-event',
    'time entrys': 'bi-clock',
    'visits': 'bi-house-door'
  };

  const links = document.querySelectorAll('th a');
  console.log('Found ' + links.length + ' links in th elements');

  links.forEach(function(link) {
    const text = link.textContent.trim().toLowerCase();
    console.log('Link text: "' + text + '"');
    for (const [model, iconClass] of Object.entries(iconMap)) {
      if (text === model) {
        console.log('Match! Adding icon for: ' + model);
        const icon = document.createElement('i');
        icon.className = 'bi ' + iconClass + ' admin-icon';
        link.insertBefore(icon, link.firstChild);
        break;
      }
    }
  });
})();
</script>
{% endblock %}
