{% extends "base.html" %}

{% block title %}Delete Event - {{ client.first_name }}{% endblock %}

{% block content %}
<div class="main-content">

    <!-- Breadcrumb -->
    <a href="{% url 'client_calendar' client_id=client.id %}" class="back-link">
        &larr; Back to Calendar
    </a>

    <div class="delete-confirm-card card">
        <div class="delete-icon">üóëÔ∏è</div>

        <h1>Delete Event?</h1>

        <p class="delete-message">
            Are you sure you want to delete this event? This action can be undone by an administrator.
        </p>

        <div class="event-preview">
            <div class="event-preview-icon">{{ event.event_type_icon }}</div>
            <div class="event-preview-details">
                <div class="event-preview-title">{{ event.title }}</div>
                <div class="event-preview-time">
                    {{ event.start_time|date:"l, M d, Y" }} at {{ event.start_time|date:"g:i A" }}
                </div>
                {% if event.location %}
                <div class="event-preview-location">
                    <i class="fas fa-map-marker-alt"></i> {{ event.location }}
                </div>
                {% endif %}
            </div>
        </div>

        <form method="post" class="delete-form">
            {% csrf_token %}
            <div class="form-actions">
                <a href="{% url 'client_calendar' client_id=client.id %}" class="btn btn-secondary">
                    Cancel
                </a>
                <button type="submit" class="btn btn-danger">
                    <i class="fas fa-trash"></i> Delete Event
                </button>
            </div>
        </form>
    </div>

</div>

<style>
    .delete-confirm-card {
        max-width: 500px;
        margin: 2rem auto;
        text-align: center;
        padding: 2rem;
    }

    .delete-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    .delete-confirm-card h1 {
        font-size: 1.5rem;
        color: var(--text-primary, #1f2937);
        margin-bottom: 0.5rem;
    }

    .delete-message {
        color: var(--text-secondary, #6b7280);
        margin-bottom: 1.5rem;
    }

    .event-preview {
        display: flex;
        align-items: flex-start;
        gap: 1rem;
        padding: 1rem;
        background: var(--bg-secondary, #f9fafb);
        border-radius: 8px;
        text-align: left;
        margin-bottom: 1.5rem;
    }

    .event-preview-icon {
        font-size: 1.5rem;
    }

    .event-preview-title {
        font-weight: 600;
        color: var(--text-primary, #1f2937);
    }

    .event-preview-time {
        font-size: 0.875rem;
        color: var(--text-secondary, #6b7280);
    }

    .event-preview-location {
        font-size: 0.875rem;
        color: var(--text-secondary, #6b7280);
        margin-top: 0.25rem;
    }

    .delete-form .form-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
    }

    .btn-danger {
        background: #ef4444;
        color: white;
        border: none;
    }

    .btn-danger:hover {
        background: #dc2626;
    }

    /* Responsive */
    @media (max-width: 640px) {
        .delete-form .form-actions {
            flex-direction: column-reverse;
        }

        .delete-form .btn {
            width: 100%;
        }
    }
</style>
{% endblock %}